<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • EJAM</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://ejanalysis.github.io/EJAM/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EJAM</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Overview for EJAM Users</h6></li>
    <li><a class="dropdown-item" href="../articles/whatis.html">What is EJAM?</a></li>
    <li><a class="dropdown-item" href="../articles/webapp.html">Accessing the Web App</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For analysts using R</h6></li>
    <li><a class="dropdown-item" href="../articles/installing.html">Installing the EJAM R package</a></li>
    <li><a class="dropdown-item" href="../articles/basics.html">Basics - Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/analyzing.html">Using EJAM for Analysis in R</a></li>
    <li><a class="dropdown-item" href="../articles/testdata.html">Examples of Input/Output Files &amp; Data</a></li>
    <li><a class="dropdown-item" href="../articles/distances.html">Comparing Distances (Choosing a Radius)</a></li>
    <li><a class="dropdown-item" href="../articles/naics.html">NAICS (Industries)</a></li>
    <li><a class="dropdown-item" href="../articles/zipcodes.html">Zipcodes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For package/app developers</h6></li>
    <li><a class="dropdown-item" href="../articles/dev-deploy-app.html">Deploying the Web App</a></li>
    <li><a class="dropdown-item" href="../articles/dev-run-shinytests.html">Testing EJAM App with shinytest2</a></li>
    <li><a class="dropdown-item" href="../articles/dev-run-unit-tests.html">Testing EJAM Functions with Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/dev-update-datasets.html">Updating EJAM Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/dev-update-documentation.html">Updating Documentation</a></li>
    <li><a class="dropdown-item" href="../articles/dev-update-package.html">Updating the Package as a New Release</a></li>
    <li><a class="dropdown-item" href="../articles/dev-future-plans.html">Future Plans and Ideas for EJAM</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ejanalysis/EJAM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ejanalysis/EJAM/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32.5" id="ejam-v2325-july-2025">EJAM v2.32.5 (July 2025)<a class="anchor" aria-label="anchor" href="#ejam-v2325-july-2025"></a></h2>
<div class="section level3">
<h3 id="web-app-2-32-5">Web app<a class="anchor" aria-label="anchor" href="#web-app-2-32-5"></a></h3>
<ul><li>
<strong>Cities, Counties, States:</strong> Census units like States, Counties, and Cities/Towns/CDPs can be selected from a menu or searched by typing part of the name. Clicking “Done” will check online for the boundaries of those places, at which point the “Start Analysis” button will be enabled. Then clicking the “Start Analysis” button analyzes the sites for which bounds were found.</li>
<li>
<strong>Area in square miles</strong>: The app now gets or calculates the area of each site more consistently and efficiently. (The function <code><a href="../reference/ejamit.html">ejamit()</a></code> has new params related to how <code><a href="../reference/area_sqmi.html">area_sqmi()</a></code> now can get square mileage info from <code><a href="../reference/blockgroupstats.html">?blockgroupstats</a></code> table without needing to download boundaries. There are new parameters called <code>download_fips_bounds_ok</code>, <code>download_noncity_fips_bounds</code>, and <code>includewater</code>. The new params are also driven by two new defaults in <code>global_defaults_shiny.R</code> The old parameter default_download_fips_bounds_to_calc_areas is no longer a param in <code><a href="../reference/ejamit.html">ejamit()</a></code>).</li>
<li>
<strong>County population counts:</strong> Fixed county population counts obtained from and shown in some maps (via fixes in a function used by <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code> so, e.g., if using <code><a href="../reference/mapfast.html">mapfast()</a></code>, <code>mapfast(shapes_from_fips(testinput_fips_counties))</code> now shows the right numbers).</li>
<li>
<strong>Summary Indexes (aka EJ Indexes)</strong> had some incorrect numbers, so this release has replaced <code><a href="../reference/bgej.html">?bgej</a></code> dataset with correct numbers. (Correct numbers were drawn from the <a href="https://web.archive.org/web/20250203215307/https://gaftp.epa.gov/ejscreen/2024/2.32_August_UseMe/EJSCREEN_2024_BG_with_AS_CNMI_GU_VI.csv.zip" class="external-link">internet archive version</a> that was a copy of the <a href="https://gaftp.epa.gov/EJScreen/2024/2.32_August_UseMe/EJSCREEN_2024_BG_with_AS_CNMI_GU_VI.csv.zip" class="external-link">datasets EPA had posted August 2024</a>).</li>
<li>
<strong>Sort order of FIPS Census units:</strong> Sort order of output FIPS codes and polygons should now always be the same as the order of the inputs (sorted like they were in an uploaded shapefile, uploaded FIPS, or FIPS selected from the dropdown list).</li>
<li>
<strong>Medians in barplots:</strong> DRAFT feature/ work in progress – interactive barplots of indicators will be able to show median not just mean (via the <code><a href="../reference/ejam2barplot_indicators.html">ejam2barplot_indicators()</a></code> function).</li>
</ul></div>
<div class="section level3">
<h3 id="rstudio-users-only-2-32-5">RStudio users only<a class="anchor" aria-label="anchor" href="#rstudio-users-only-2-32-5"></a></h3>
<div class="section level4">
<h4 id="documentation-updates-2-32-5">Documentation updates<a class="anchor" aria-label="anchor" href="#documentation-updates-2-32-5"></a></h4>
<ul><li>
<a href="../articles/installing.html">Installation instructions in vignette/article</a> were redone.</li>
<li>Articles (aka vignettes) were renamed (titles and file names).</li>
<li>
<a href="https://github.com/ejanalysis/EJAM/#readme" class="external-link">README</a> mentions <a href="https://www.ejanalysis.com" class="external-link uri">https://www.ejanalysis.com</a> now. <code><a href="../reference/blockgroupstats.html">?blockgroupstats</a></code> documentation was improved.</li>
<li>
<code><a href="../reference/acs_bybg.html">acs_bybg()</a></code> documentation now has notes on the key ACS tables most relevant to EJSCREEN.</li>
</ul></div>
<div class="section level4">
<h4 id="functions-added-or-improved-2-32-5">Functions added or improved<a class="anchor" aria-label="anchor" href="#functions-added-or-improved-2-32-5"></a></h4>
<ul><li>Mix of fips types allowed:
<ul><li>
<code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code> now accepts a mix of city and noncity fips (state, county, tract, blockgroup), so you can get a shapefile where some polygons are cities and others are counties, etc. Previously that was not possible and caused an error. See parameter <code>allow_multiple_fips_types</code> in <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code>.</li>
<li>
<code><a href="../reference/getblocksnearby_from_fips.html">getblocksnearby_from_fips()</a></code> now accepts a mix of city and noncity fips (state, county, tract, blockgroup), so you can get a shapefile where some polygons are cities and others are counties, etc. Previously that was not possible and caused an error.</li>
</ul></li>
<li>
<code><a href="../reference/fips2name.html">fips2name()</a></code> now also provides text name for a tract</li>
<li>
<code><a href="../reference/mapfast.html">mapfast()</a></code> for a single point now zooms out enough to see the whole radius (e.g., <code>mapfast(testpoints_10[1,], radius = 10)</code>)</li>
<li>
<code><a href="../reference/mapfastej_counties.html">mapfastej_counties()</a></code> has improved color-coded maps of counties.</li>
<li>
<code><a href="../reference/convert_units.html">convert_units()</a></code> now can recognize more abbreviations like “mi^2” via updated <code><a href="../reference/fixnames_aliases.html">fixnames_aliases()</a></code>, and got some bug fixes.</li>
<li>
<code><a href="../reference/fips_bg_from_latlon.html">fips_bg_from_latlon()</a></code> drafted as unexported function that identifies which blockgroup each point is inside.</li>
</ul></div>
<div class="section level4">
<h4 id="functions-fixed-or-modified-2-32-5">Functions fixed or modified<a class="anchor" aria-label="anchor" href="#functions-fixed-or-modified-2-32-5"></a></h4>
<ul><li>
<code><a href="../reference/ejamit.html">ejamit()</a></code> and <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code> (and related helper functions) have more consistent, useful outputs:
<ul><li>
<em>Sorting</em>: The outputs now consistently preserve sort order of the input (points, fips, or polygons). This had not been the case for <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code> outputs, and the table <code>results_bysite</code> from <code><a href="../reference/ejamit.html">ejamit()</a></code> or <code><a href="../reference/doaggregate.html">doaggregate()</a></code> was preserving sort order only for the latlon case but not necessarily the fips or shapes cases.</li>
<li>
<em>Invalid sites</em>: The outputs of <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code> (and related helper functions) will have a row for each valid or invalid input site (it will no longer omit output rows for invalid fips and when boundaries could not be obtained for valid fips) – The number of rows in a shapefile output will be the same as then length of the input fips vector. The output table <code>results_bysite</code> from <code><a href="../reference/ejamit.html">ejamit()</a></code> also has a row for each valid or invalid input site. That table in the output of <code><a href="../reference/doaggregate.html">doaggregate()</a></code> in contrast does <em>not</em> have a row for any site lacking blocks, since the input is from getblock_xyz functions (<code><a href="../reference/getblocksnearby.html">getblocksnearby()</a></code>, <code><a href="../reference/getblocksnearby_from_fips.html">getblocksnearby_from_fips()</a></code>, <code><a href="../reference/get_blockpoints_in_shape.html">get_blockpoints_in_shape()</a></code>), which don’t provide those sites.</li>
<li>
<em>Columns</em> from <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code> and related helpers: The output columns are ordered in a more useful way and are more consistent across functions. The output also consistently tries to add population, area in square miles, name of census unit, state abbreviation, etc., via new helpers like <code>shapefile_addcols()</code>
</li>
</ul></li>
<li>
<code><a href="../reference/getblocksnearby.html">getblocksnearby()</a></code> and related functions (<code><a href="../reference/getblocksnearby_from_fips.html">getblocksnearby_from_fips()</a></code>, <code><a href="../reference/get_blockpoints_in_shape.html">get_blockpoints_in_shape()</a></code>, etc.) also have more consistent outputs:
<ul><li>
<em>Unique ID in FIPS case</em>: The <code>ejam_uniq_id</code> column in the outputs of these functions will be based on 1 through the number of sites in the inputs (with multiple rows per site as needed to include all the blocks). Previously, FIPS codes had been used as the <code>ejam_uniq_id</code> sometimes (and still are in the outputs of functions like <code><a href="../reference/ejamit.html">ejamit()</a></code> where the output has a table with one row per site).</li>
<li>
<em>Sorting</em>: The output sites are now sorted like the input sites (points, fips, or polygons), while there are still usually many rows (blocks) per site. It had been sorted primarily by blockid, previously.</li>
<li>
<strong>Invalid sites:</strong> The outputs of all the getblock… functions will be consistent – They all provide a sites2blocks data.table output (like <code><a href="../reference/testoutput_getblocksnearby_10pts_1miles.html">?testoutput_getblocksnearby_10pts_1miles</a></code>) that does not include any sites that have zero blocks. The <code>ejam_uniq_id</code> will still correspond to the input vector, so if an invalid and valid site were input in that order, 2 would be the only <code>ejam_uniq_id</code> in the sites2blocks table. The FIPS-based functions, though, like <code><a href="../reference/getblocksnearby_from_fips.html">getblocksnearby_from_fips()</a></code>, when returning a spatial data.frame, will include all the sites in the output, even if they have no blocks, so that the number of rows in the output shapefile will match the number of sites in the input fips vector.</li>
</ul></li>
<li>testoutput_xyz .xlsx and .html files and dataset R objects like <code><a href="../reference/testoutput_ejamit_100pts_1miles.html">?testoutput_ejamit_100pts_1miles</a></code> have been updated to reflect the new <code><a href="../reference/bgej.html">?bgej</a></code> dataset.</li>
<li>Some testinput objects like testinput_fips_counties are now vectors per is.vector(), and no longer have metadata stored as attributes like date_saved_in_package, etc. Adding that info via <code><a href="../reference/metadata_add.html">metadata_add()</a></code> was making is.vector() FALSE and interfered with some functions that expect the input to be a vector, like <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code>. Also, <code>testinput_xtrac</code> was removed.</li>
<li>
<code><a href="../reference/doaggregate.html">doaggregate()</a></code> and <code><a href="../reference/ejamit.html">ejamit()</a></code> now report 0 for <code>results_bysite$blockcount_near_site</code> and <code>results_bysite$bgcount_near_site</code> if there are none, and total counts are correct.</li>
<li>
<code><a href="../reference/getblocksnearby.html">getblocksnearby()</a></code> based on <code><a href="../reference/getblocksnearbyviaQuadTree.html">getblocksnearbyviaQuadTree()</a></code> will no longer include, in its output, the lat lon columns from the input table of sitepoints. That was unintentional and potentially confusing and wasted space.</li>
<li>
<code><a href="../reference/plotblocksnearby.html">plotblocksnearby()</a></code> rewritten to fix/improve map popups, etc., and a parameter was dropped</li>
</ul></div>
<div class="section level4">
<h4 id="package-development-technical-2-32-5">Package development/ technical<a class="anchor" aria-label="anchor" href="#package-development-technical-2-32-5"></a></h4>
<ul><li>Many unit tests added, especially for <code><a href="../reference/doaggregate.html">doaggregate()</a></code> and <code><a href="../reference/getblocksnearby_from_fips.html">getblocksnearby_from_fips()</a></code> and related.</li>
<li>
<code><a href="../reference/test_ejam.html">test_ejam()</a></code> is what used to be called <code>test_interactively()</code> – it was improved and renamed and moved to the R folder as an unexported internal function loaded as part of the package. Also, a new parameter y_skipbasic is used instead of y_basic.</li>
<li>
<code>test_coverage_check()</code> utility was improved (but somewhat work in progress), just as a way to for package maintainers/contributors to look at which functions might need unit tests written.</li>
<li>Utility functions related to package development were renamed, e.g., in utils_PACKAGE_dev.R</li>
<li>
<code>linesofcode2()</code> utility was improved, just as a way for package maintainers/contributors to look at which files have most of the lines of code, are mostly comments, etc.</li>
<li>
<code><a href="../reference/table_xls_format_api.html">table_xls_format_api()</a></code> is what used to be called table_xls_formatting_api() (but is not used unless the ejscreenapi module or server is working).</li>
<li>fixed inconsistent use of parameter <code>in_shiny</code> versus <code>inshiny</code>, to always call it <code>in_shiny</code>
</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32.4" id="ejam-v2324-june-2025">EJAM v2.32.4 (June 2025)<a class="anchor" aria-label="anchor" href="#ejam-v2324-june-2025"></a></h2>
<p>Note the URLs, emails, and notes about repository locations/owners were edited to reflect this forked non-EPA version of the EJAM package being located at ejanalysis/EJAM, so the package called the v2.32.4 release on ejanalysis/EJAM is slightly different than the version called the v2.32.4 release that was released on USEPA/EJAM-open.</p>
<div class="section level3">
<h3 id="web-app-2-32-4">Web app<a class="anchor" aria-label="anchor" href="#web-app-2-32-4"></a></h3>
<ul><li>Fixed logo in “About” tab, app header, and report header, in app_ui, generate_html_header(), global_defaults_xyz, etc., and updated testoutput files related to <code><a href="../reference/ejam2report.html">ejam2report()</a></code> and <code><a href="../reference/ejam2excel.html">ejam2excel()</a></code>
</li>
<li>corrected spelling in app and documentation</li>
<li>added better examples of params one can pass via <code><a href="../reference/run_app.html">run_app()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="rstudio-users-only-2-32-4">RStudio users only<a class="anchor" aria-label="anchor" href="#rstudio-users-only-2-32-4"></a></h3>
<ul><li>New summary table and plot are available via <code><a href="../reference/ejam2areafeatures.html">ejam2areafeatures()</a></code> and <code><a href="../reference/ejam2barplot_areafeatures.html">ejam2barplot_areafeatures()</a></code>. Changes in <code><a href="../reference/ejamit.html">ejamit()</a></code> provide information about what fraction of residents have certain features or types of areas where they live, such as schools, hospitals, Tribal areas, nonattainment areas, CJEST areas, etc. This is done via many changes to <code><a href="../reference/batch.summarize.html">batch.summarize()</a></code>.</li>
<li>added better examples of params one can pass via <code><a href="../reference/run_app.html">run_app()</a></code>
</li>
<li>documented <code><a href="../reference/get_global_defaults_or_user_options.html">get_global_defaults_or_user_options()</a></code> and <code><a href="../reference/global_or_param.html">global_or_param()</a></code>
</li>
<li>fixed <code><a href="../reference/ejam2means.html">ejam2means()</a></code>
</li>
<li>
<code><a href="../reference/ejam2report.html">ejam2report()</a></code> gets new params, and in <code><a href="../reference/build_community_report.html">build_community_report()</a></code> added report_title = NULL, logo_path = NULL, logo_html = NULL.</li>
<li>
<code><a href="../reference/ejam2barplot.html">plot_barplot_ratios()</a></code> gets new ylab and caption params</li>
<li>added warning in <code><a href="../reference/url_countyhealthrankings.html">url_countyhealthrankings()</a></code> if default year seems outdated</li>
<li>unexported draft <code><a href="../reference/read_and_clean_points.html">read_and_clean_points()</a></code>
</li>
<li>unexported draft <code><a href="../reference/ejam2quantiles.html">ejam2quantiles()</a></code>
</li>
<li>removed reference to obsolete testids_registry_id, replaced by <code><a href="../reference/testinput_regid.html">?testinput_regid</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="technical--internal-changes-2-32-4">Technical / internal changes:<a class="anchor" aria-label="anchor" href="#technical--internal-changes-2-32-4"></a></h3>
<ul><li>enabled testing of web app functionality from the test_interactively() utility (which has more recently been renamed <code><a href="../reference/test_ejam.html">test_ejam()</a></code> and put in R folder as an unexported internal function loaded as part of the package) or via test_local(), etc., not just from a github action. (See /tests/setup.R which now has a copy of what is also in app-functionality.R)</li>
<li>drafted revisions to ui and server to try to allow for more <code><a href="../reference/run_app.html">run_app()</a></code> params or advanced tab or global_defaults_xyz to alter default method of upload vs dropdown, e.g., output ss_choose_method_ui, default_ss_choose_method, default_upload_dropdown. This included revising server and ui to use just <code>EJAM:::global_or_param()</code> not <code><a href="https://thinkr-open.github.io/golem/reference/get_golem_options.html" class="external-link">golem::get_golem_options()</a></code>, so that non-shiny global defaults can work (e.g., logo path as <code>global_defaults_package$.community_report_logo_path</code>) even outside shiny when global_defaults_package has happened via onattach but global_defaults_shiny etc. has not happened.</li>
<li>changed <code>.onAttach()</code> to do source(global_defaults_package) with local = FALSE not TRUE, but this might need to be revisited – note both local = F and local = T are used in <code>.onAttach()</code> versus <code><a href="../reference/get_global_defaults_or_user_options.html">get_global_defaults_or_user_options()</a></code>
</li>
<li>in server, <code><a href="../reference/ejam2excel.html">ejam2excel()</a></code> now figures out value of radius_or_buffer_description, <code><a href="../reference/ejam2excel.html">ejam2excel()</a></code> gets new parameters table_xls_from_ejam() uses improved buffer_desc_from_sitetype() and now uses <code><a href="../reference/ejam2report.html">ejam2report()</a></code> to add a report in one tab.</li>
<li>reorganized server code by moving v1_demog_table() and v1_envt_table to long report section of server file</li>
<li>cleaned up server code (eg, remove obsolete input$disconnect, remove obsolete community_download() and report_community_download(), and remove repetitive <code>ejam2repor()</code>, remove old EJScreen Batch Tool tab, used session = session as param in server calls to updateXYZINPUT, etc.)</li>
<li>allow shiny.testmode to be TRUE even if not set in options</li>
<li>used silent=TRUE in more cases of <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code>
</li>
<li>added validate(“problem with <code><a href="../reference/map_shapes_leaflet.html">map_shapes_leaflet()</a></code> function”)</li>
<li>added validate(need(data_processed(), ‘Please run an analysis to see results.’))</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32.3" id="ejam-v2323-may-2025">EJAM v2.32.3 (May 2025)<a class="anchor" aria-label="anchor" href="#ejam-v2323-may-2025"></a></h2>
<div class="section level3">
<h3 id="summary-report-and-related-improvements-2-32-3">Summary report and related improvements<a class="anchor" aria-label="anchor" href="#summary-report-and-related-improvements-2-32-3"></a></h3>
<ul><li>Added a long list of additional indicators in the summary report (in a subtable) and in outputs of <code><a href="../reference/ejamit.html">ejamit()</a></code>, etc. New indicators include counts of features (Superfund sites, schools, etc.), asthma and cancer rates, overlaps with certain types of areas (Tribal, C JEST disadv., air nonattainment areas, etc.), flood risk, % with health insurance, more age groups (% under 18), and numerous other indicators. You can see the expanded report via <code><a href="../reference/ejam2report.html">ejam2report()</a></code> or at <code>system.file("testdata/examples_of_output/testoutput_ejam2report_100pts_1miles.html", package = "EJAM")</code>
</li>
<li>Area in square miles (area_sqmi column) added to results, with calculation of size of each location (polygon or FIPS unit or circle around a point)</li>
<li>More/better info on number of sites or site ID and lat/lon, now in header</li>
<li>Enabled customization of summary table (for R users) to show fewer or new additional indicators (as long as they are in the outputs of <code><a href="../reference/doaggregate.html">doaggregate()</a></code> and <code><a href="../reference/ejamit.html">ejamit()</a></code> or at least are in the inputs to <code><a href="../reference/ejam2report.html">ejam2report()</a></code> etc.). This is done via the <code>extratable_list_of_sections</code> parameter in <code><a href="../reference/ejam2report.html">ejam2report()</a></code>, in <code><a href="../reference/build_community_report.html">build_community_report()</a></code>, in the community_report_template.Rmd, and in global parameter <code>default_extratable_list_of_sections</code>. It may later be enabled as modifiable in the advanced tab.</li>
<li>Easier to set which logo to show on summary report (EPA or EJAM or other logo), in global settings</li>
</ul></div>
<div class="section level3">
<h3 id="other-web-app-improvements-2-32-3">Other web app improvements<a class="anchor" aria-label="anchor" href="#other-web-app-improvements-2-32-3"></a></h3>
<ul><li>More types of shapefiles can be uploaded in the web app – json, geojson, kml, zip (of gdb or other), and shp.</li>
<li>Census units like States, Counties, and Cities/Towns/CDPs can now be selected from a menu or searched by typing part of the name, in a shiny module called fipspicker, and the feature is enabled/disabled via global settings <code>use_fipspicker</code> and <code>default_choices_for_type_of_site_category</code>. It works but current does not check or alert users if boundaries are not available, until after the Start Analysis button is clicked.</li>
<li>Simpler UI for “More info” button about file types and formats allowed in upload.</li>
<li>Preview maps can show FIPS now, along with shapefile polygons, or points</li>
<li>
<code><a href="../reference/ejam2report.html">ejam2report()</a></code> and <code><a href="../reference/ejam2map.html">ejam2map()</a></code> and <code><a href="../reference/mapfast.html">mapfast()</a></code> now better able to create maps of polygon data, FIPS, one site vs all sites, etc.</li>
<li>progress bar added for doaggregate() in cases of fips and latlon</li>
</ul></div>
<div class="section level3">
<h3 id="rstudio-user-related-or-internal-improvements-2-32-3">RStudio user-related or internal improvements<a class="anchor" aria-label="anchor" href="#rstudio-user-related-or-internal-improvements-2-32-3"></a></h3>
<ul><li>Clarified/explained 2025 status of API and urls in CONTRIBUTING and README, etc.</li>
<li>Extensive additions of and improvements in articles/vignettes, including documentation of how to maintain repo, package, and datasets. Articles/vignettes avoid hardcoded repo urls, and use relative links within pkgdown site… unexported helper function <code>EJAM:::repo_from_desc()</code> added, avoids hardcoded repo url; download_latest_arrow_data avoids hardcoded repo url; links to testdata files on webapp UI avoid hardcoded repo url; simpler <a href="../articles/whatis.html">What is EJAM</a> doc.</li>
<li>
<code><a href="../reference/ejamit.html">ejamit()</a></code> in interactive mode (RStudio) now lets you select any type of file to upload if no sites specified by parameters</li>
<li>Many options or starting values or settings for the shiny app (and in general) can now be set as parameters passed to the <code><a href="../reference/run_app.html">run_app()</a></code> function, which overrides the defaults. extensive changes to global defaults vs user parameters allowed: replaced global.R; files renamed, put in 1 folder, etc. System for using user parameters passed to <code><a href="../reference/run_app.html">run_app()</a></code>, global defaults otherwise, many can be changed in advanced tab; some may be bookmarkable. The default values are now set for the shiny app and in general in files called <code>global_defaults_package.R</code>, <code>global_defaults_shiny_public.R</code>, and <code>global_defaults_shiny.R</code> (rather than in the old files global.R or manage-public-private.R).</li>
<li>
<code><a href="../reference/acs_bybg.html">acs_bybg()</a></code> examples added, on how to obtain and analyze new/custom indicators from the American Community Survey (ACS) data</li>
<li>
<code><a href="../reference/testdata.html">testdata()</a></code> function improved, showing you examples of files that be used as inputs to <code><a href="../reference/ejamit.html">ejamit()</a></code>. <code><a href="../reference/testdata.html">testdata()</a></code> files and data objects cleaned up/renamed consistently and new ones added for fips types, naics, sic, mact, etc.</li>
<li>refactored names of plot functions made more consistent to use “plot” singular and “ratios” plural, as in <code><a href="../reference/ejam2boxplot_ratios.html">ejam2boxplot_ratios()</a></code>, <code>boxplot_ratios()</code>, etc.</li>
<li>documentation fixed in some functions (e.g., <code><a href="../reference/ejam2map.html">ejam2map()</a></code>)</li>
<li>large datasets managed via <code><a href="../reference/download_latest_arrow_data.html">download_latest_arrow_data()</a></code> and other new arrow-related functions and no longer on pins board or aws at all. arrow datasets faster format used most places, other changes to handling downloads etc.</li>
<li>
<code>shape_from_fips()</code> checks if census API key available and tidycensus pkg now imported, uses alt method (arcgis services) to get boundaries if necessary.</li>
<li>Continued towards refactoring/consolidating code in server vs in functions, related to creating summary report as HTML vs for download from shiny app vs from <code><a href="../reference/ejam2report.html">ejam2report()</a></code>, in functions such as <code><a href="../reference/report_residents_within_xyz.html">report_residents_within_xyz()</a></code>, renamed generate_demog_header to generate_env_demog_header, etc.</li>
<li>server uses <code><a href="../reference/ejamit.html">ejamit()</a></code> for SHP and latlon, and cleanup</li>
<li>server uses <code><a href="../reference/ejam2excel.html">ejam2excel()</a></code> now (which then relies on <code><a href="../reference/table_xls_format.html">table_xls_format()</a></code>)</li>
<li>server uses <code><a href="../reference/ejam2report.html">ejam2report()</a></code> now, not obsolete report_community_download() etc.</li>
<li>server uses <code><a href="../reference/shapefile_from_any.html">shapefile_from_any()</a></code> now</li>
<li>server: removed use of data_summarized reactive everywhere, use data_processed$…</li>
<li>2 new params <code><a href="../reference/doaggregate.html">doaggregate()</a></code> has, to <code><a href="../reference/ejamit.html">ejamit()</a></code>, for calctype_maxbg and minbg</li>
<li>bug fixes such as in <code><a href="../reference/ejamit.html">ejamit()</a></code> for wtdmeancols param, <code><a href="../reference/ejamit_compare_distances.html">ejamit_compare_distances()</a></code>, <code><a href="../reference/shapes_from_fips.html">shapes_from_fips()</a></code>, <code><a href="../reference/plot_ridgeline_ratios.html">plot_ridgeline_ratios()</a></code>, <code><a href="../reference/map_google.html">map_google()</a></code>, in <code><a href="../reference/mapfast.html">mapfast()</a></code> for tracts vs blockgroups, many others</li>
<li>unit tests added and others updated/fixed</li>
<li>misc helpers/utility added/updated/documented</li>
<li>renamed .xlsx file of map_headernames info to reflect a new version and made edits/fixes</li>
<li>
<code>reposissues()</code> and <code>repoissues2()</code> help record snapshot of gh issues</li>
<li>DESCRIPTION file now has new field ejam_data_repo</li>
<li>updated workflow action to use latest version of github-pages-deploy-action</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32.2" id="ejam-v2322-february-2025">EJAM v2.32.2 (February 2025)<a class="anchor" aria-label="anchor" href="#ejam-v2322-february-2025"></a></h2>
<ul><li>Revised all language based on executive orders, to refer to environmental and residential population data analysis, rather than EJ/EJScreen/etc.</li>
<li>Revised web links based on EJScreen website being offline</li>
<li>Some edits made considering github repositories and gh pages may change location or go offline</li>
<li>Updated FRS datasets, pulled on 2/12/25</li>
<li>Remove screenshots from user guide document</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32.1" id="ejam-v2321-ejam-february-2025">EJAM v2.32.1-EJAM (February 2025)<a class="anchor" aria-label="anchor" href="#ejam-v2321-ejam-february-2025"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-2-32-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-32-1"></a></h3>
<ul><li>Fixed metadata warning shown during loading of arrow datasets</li>
<li>Fixed typos in languages spoken indicators labels</li>
<li>Improved labeling and legibility of barplot of ratios used in reports and downloads</li>
<li>Fixed caps to # of points selected, analyzed</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-2-32-1">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-32-1"></a></h3>
<ul><li>Expanded tables of indicators shown in community report</li>
<li>Languages spoken at home, health, community, age</li>
<li>Added ratio columns to community report as advanced setting and heatmap highlighting optional</li>
<li>Incorporated <code>shinytest2</code> tests for app-based functionality testing</li>
<li>Implemented mapping for points in <code><a href="../reference/ejam2excel.html">ejam2excel()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="experimental-enhancements-2-32-1">Experimental enhancements<a class="anchor" aria-label="anchor" href="#experimental-enhancements-2-32-1"></a></h3>
<ul><li>Added draft plumber API for <code><a href="../reference/ejam2excel.html">ejam2excel()</a></code>
</li>
<li>Added widget to advanced settings</li>
<li>proxistat() helps build proximity indicator</li>
<li>Zipcodes vignette</li>
</ul></div>
<div class="section level3">
<h3 id="other-2-32-1">Other<a class="anchor" aria-label="anchor" href="#other-2-32-1"></a></h3>
<ul><li>Refactored community report functions, <code>app_server.R</code> script</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32" id="ejam-v232-ejam-january-2025">EJAM v2.32-EJAM (January 2025)<a class="anchor" aria-label="anchor" href="#ejam-v232-ejam-january-2025"></a></h2>
<div class="section level3">
<h3 id="new-features--improvements-2-32">New Features + Improvements<a class="anchor" aria-label="anchor" href="#new-features--improvements-2-32"></a></h3>
<ul><li>Enabled automatic download of latest arrow data from ejamdata repo</li>
<li>Incorporated public-internal toggles to hide specific UI elements not yet applicable to the public version of EJAM</li>
<li>Made improvements to maps of polygons</li>
<li>Added shapefile upload instructions</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-and-enhancements-2-32">Bug Fixes and Enhancements<a class="anchor" aria-label="anchor" href="#bug-fixes-and-enhancements-2-32"></a></h3>
<ul><li>Added <code>leaflet.extras2</code> dependency to Imports, instead of Suggests, which is necessary for new installations</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.32.0" id="ejam-v2320">EJAM v2.32.0<a class="anchor" aria-label="anchor" href="#ejam-v2320"></a></h2>
<ul><li>The EJAM R package is available as an open source resource you can
<ul><li>clone from the <a href="https://github.com/USEPA/EJAM-open" class="external-link">EJAM-open github repository</a> or</li>
<li>install using the <a href="../articles/installing.html">installation instructions</a>
</li>
</ul></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>2025</p>
</div>

<div class="pkgdown-footer-right">
  <p>EJAM Version 2.32.5</p>
</div>

    </footer></div>





  </body></html>

