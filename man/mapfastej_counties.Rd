% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/MAP_FUNCTIONS.R
\name{mapfastej_counties}
\alias{mapfastej_counties}
\title{Map - County polygons / boundaries - Create leaflet or static map of results of analysis}
\usage{
mapfastej_counties(
  mydf,
  colorvarname = "pctile.Demog.Index.Supp",
  colorfills = c("darkgray", "yellow", "orange", "darkred"),
  colorlabels = c("<80", "80-89", "90-94", "95+"),
  colorbins = c(0, 80, 90, 95, 100),
  colorpalette = c("gray", "yellow", "orange", "red"),
  static_not_leaflet = FALSE,
  main = "Selected Counties",
  fillOpacity = 0.5,
  ...
)
}
\arguments{
\item{mydf}{something like  ejamit(fips = fips_counties_from_statename("Kentucky"), radius = 0)$results_bysite}

\item{colorvarname}{colname of indicator in mydf that drives color-coding
(or alternatively, colorvarname = "green" means a single specific color for all, like "green")}

\item{colorfills}{vector of colors shown in legend}

\item{colorlabels}{vector of cutoffs shown in legend}

\item{colorbins}{vector of cutoffs for which values of colorvarname indicator
get assigned which colors from colorpalette}

\item{colorpalette}{vector of colors available for filling polygons}

\item{static_not_leaflet}{set TRUE to use \code{\link[=map_shapes_plot]{map_shapes_plot()}} instead of \code{\link[=map_shapes_leaflet]{map_shapes_leaflet()}}}

\item{main}{title for map}

\item{fillOpacity}{passed to \code{\link[=map_shapes_leaflet]{map_shapes_leaflet()}} which passes it to \code{\link[leaflet:map-layers]{leaflet::addPolygons()}}}

\item{...}{depending on value of static_not_leaflet T/F, passed to \code{\link[=map_shapes_plot]{map_shapes_plot()}}
or to \code{\link[=map_shapes_leaflet]{map_shapes_leaflet()}} which passes it to \code{\link[leaflet:map-layers]{leaflet::addPolygons()}}, such as opacity=1}
}
\value{
leaflet html widget (but if static_not_leaflet=T,
returns just shapes_counties_from_countyfips(mydf$ejam_uniq_id))
}
\description{
Map - County polygons / boundaries - Create leaflet or static map of results of analysis
}
\details{
THIS ASSUMES THAT mydf$ejam_unique_id is the county FIPS codes.

IMPORTANT: The percentiles shown are percentiles among blockgroups, not counties.
A county here shown as being at 90th percentile actually is one where
the average resident in the county is in a blockgroup that is at the 90th
percentile of blockgroups in the US (or the State, depending on colorvarname).
}
\examples{
\donttest{
myfips = fips_counties_from_state_abbrev(c("AL", "GA", "MS"))
mydf = ejamit(fips = myfips )$results_bysite
mapfastej_counties(mydf, colorvarname = "pctile.pctnhba" )
 }

}
\seealso{
\code{\link[=mapfastej]{mapfastej()}} \code{\link[=map_shapes_leaflet]{map_shapes_leaflet()}}
}
